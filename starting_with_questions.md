 **Question 1: Which cities and countries have the highest level of transaction revenues on the site?**

SQL Queries:

SELECT country, COUNT(revenue)
FROM visitortransactions
GROUP BY country
HAVING count(revenue) > 0
ORDER BY COUNT(revenue) DESC

SELECT country, SUM(revenue)
FROM visitortransactions
GROUP BY country
HAVING SUM(revenue) > 0
ORDER BY SUM(revenue) DESC

SELECT city, COUNT(revenue)
FROM visitortransactions
GROUP BY city
HAVING count(revenue) > 0
ORDER BY COUNT(revenue) DESC

SELECT city, SUM(revenue)
FROM visitortransactions
GROUP BY city
HAVING SUM(revenue) > 0
ORDER BY SUM(revenue) DESC

Answer:

In terms of country, the United States leads transactions both in the number of transactions and the total revenue generated by a wide margin. This was determined by the above queries 1 and 2. The runners up are Canada and Isreal in both number of transactions and total revenue generated.

In terms of cities, out of the top 10 cities, 9 are located within the United States and 5 of these cities are from the State of California. The top 3 cities in terms of number of transactions and total revenue generated are New York, Sunnyvale and Mountain View. These results were found with queries 3 and 4.




**Question 2: What is the average number of products ordered from visitors in each city and country?**

SQL Queries:

SELECT country, AVG(quantity)
FROM visitortransactions
GROUP BY country
HAVING AVG(quantity) is not null
ORDER BY AVG(quantity) DESC

SELECT * 
FROM visitortransactions
WHERE 	country = 'Spain' AND
		revenue is not null

SELECT city, AVG(quantity)
FROM visitortransactions
GROUP BY city
HAVING AVG(quantity) is not null
ORDER BY AVG(quantity) DESC

SELECT * 
FROM visitortransactions
WHERE 	city = 'Madrid' AND
		revenue is not null
  
Answer:

By country, Spain has the highest average number of products ordered in their transactions. This is due to an outlier that can be confirmed with query #2. However, as expected, disregarding the outlier, the United States have the next highest average number of products that are ordered from visitors. This is followed again by Canada and Israel. (query #1)

Sorting by city, (query #3) we can see that Atlanta leads the highest number of average products ordered. Followed by Sunnyvale, Madrid and Chicago where Madrid is another single outlier (query #4)




**Question 3: Is there any pattern in the types (product categories) of products ordered from visitors in each city and country?**

SQL Queries:

SELECT COUNT(revenue), COUNT(category), category, country
FROM visitortransactions v
JOIN productdetails p ON v.sku = p.productsku
WHERE country = 'United States' 		-- OR 'Canada' OR 'Isreal'
GROUP BY country, category
ORDER BY count(category) DESC

SELECT COUNT(revenue), COUNT(category), category, city
FROM visitortransactions v
JOIN productdetails p ON v.sku = p.productsku
WHERE city = 'New York' 			-- OR 'Sunnyvale' OR 'Mountain View'
GROUP BY city, category
ORDER BY count(category) DESC

Answer:

Across the top 3 highest transaction countries, (United States, Canada and Isreal) all have similar purchasing patterns in which apparel - specifically men's apparel takes the top spots as most sold. This is followed closely by electronic or tech related purchases such as Google or Youtube branded products. (query #1)

Across the top 3 highest transaction cities, (New York, Sunnyvale and Mountain View) a similar pattern emerges where apparel purchases are the most common, followed closely by tech and electronic purchases. (query #2)




**Question 4: What is the top-selling product from each city/country? Can we find any pattern worthy of noting in the products sold?**


SQL Queries:

SELECT country, productname, COUNT(productname), COUNT(revenue)
FROM visitortransactions v
JOIN productdetails p ON v.sku = p.productsku
GROUP BY country, productname
HAVING COUNT(revenue) > 0
ORDER BY COUNT(productname) DESC
LIMIT 1

Answer:

In the United States, and in New York the "Men's 100% Cotton Short Sleeve Hero Tee White" is the best seller. 

Where as in Canada, the "Twill Cap" sold best. Between the cotton short sleeve and twill cap, over 1600 transactions were ordered with these products.

In Israel the "Protect Smoke + CO Black Wired Alarm-USA" was the top-seller. The "Protect Smoke + CO Black Wired Alarm-USA" also was the top-seller in Mountain View. 




**Question 5: Can we summarize the impact of revenue generated from each city/country?**

SQL Queries:

SELECT country, productname, category, quantity, SUM(revenue)
FROM visitortransactions v
JOIN productdetails p ON v.sku = p.productsku
GROUP BY country, productname, category, quantity
HAVING SUM(revenue) > 0
ORDER BY SUM(revenue) DESC

Answer:

Since we have discussed that the highest transactional countries and cities have a general pattern to their product interest from above, it makes sense to talk about the impact of revenue as a general analysis instead of breaking it up by country and city. In general, apparel items are ordered in larger quantities but have a lower unitprice. In contrast, electronic and tech items are ordered in much smaller quantities but have a significantly higher unitprice. Both of these models of products do well to generate revenue for the company. However, there are many skus of products that do not sell or sell in low quantities yet also have low unitprices. There may be reason to drop these products in favor of targetting more profitable products. 







